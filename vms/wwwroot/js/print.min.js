(function(n,t){typeof exports=="object"&&typeof module=="object"?module.exports=t():typeof define=="function"&&define.amd?define([],t):typeof exports=="object"?exports.printJS=t():n.printJS=t()})(window,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})},t.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){var r,u;if((i&1&&(n=t(n)),i&8)||i&4&&typeof n=="object"&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),i&2&&typeof n!="string")for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=0)}({"./src/index.js":function(n,t,i){"use strict";i.r(t);var u=i("./src/sass/index.scss"),e=i.n(u),f=i("./src/js/init.js"),r=f["default"].init;typeof window!="undefined"&&(window.printJS=r);t["default"]=r},"./src/js/browser.js":function(n,t,i){"use strict";i.r(t);var r={isFirefox:function(){return typeof InstallTrigger!="undefined"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window;return!!n.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};t["default"]=r},"./src/js/functions.js":function(n,t,i){"use strict";function r(n){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r(n)}function o(n,t){var i="font-family:"+t.font+" !important; font-size: "+t.font_size+" !important; width:100%;";return'<div style="'+i+'">'+n+"<\/div>"}function s(n){return n.charAt(0).toUpperCase()+n.slice(1)}function h(n,t){for(var f=document.defaultView||window,u="",i=f.getComputedStyle(n,""),r=0;r<i.length;r++)(t.targetStyles.indexOf("*")!==-1||t.targetStyle.indexOf(i[r])!==-1||c(t.targetStyles,i[r]))&&i.getPropertyValue(i[r])&&(u+=i[r]+":"+i.getPropertyValue(i[r])+";");return u+("max-width: "+t.maxWidth+"px !important; font-size: "+t.font_size+" !important;")}function c(n,t){for(var i=0;i<n.length;i++)if(r(t)==="object"&&t.indexOf(n[i])!==-1)return!0;return!1}function l(n,t){var r=document.createElement("div"),i,u;f(t.header)?r.innerHTML=t.header:(i=document.createElement("h1"),u=document.createTextNode(t.header),i.appendChild(u),i.setAttribute("style",t.headerStyle),r.appendChild(i));n.insertBefore(r,n.childNodes[0])}function a(n){var t,i;n.showModal&&e["default"].close();n.onLoadingEnd&&n.onLoadingEnd();(n.showModal||n.onLoadingStart)&&window.URL.revokeObjectURL(n.printable);t="mouseover";(u["default"].isChrome()||u["default"].isFirefox())&&(t="focus");i=function i(){window.removeEventListener(t,i);n.onPrintDialogClose();var r=document.getElementById(n.frameId);r&&r.remove()};window.addEventListener(t,i)}function f(n){var t=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)<\/\\1>");return t.test(n)}i.r(t);i.d(t,"addWrapper",function(){return o});i.d(t,"capitalizePrint",function(){return s});i.d(t,"collectStyles",function(){return h});i.d(t,"addHeader",function(){return l});i.d(t,"cleanUp",function(){return a});i.d(t,"isRawHTML",function(){return f});var e=i("./src/js/modal.js"),u=i("./src/js/browser.js")},"./src/js/html.js":function(n,t,i){"use strict";function r(n){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r(n)}function f(n,t){for(var o,i=n.cloneNode(),e=Array.prototype.slice.call(n.childNodes),r=0;r<e.length;r++)t.ignoreElements.indexOf(e[r].id)===-1&&(o=f(e[r],t),i.appendChild(o));t.scanStyles&&n.nodeType===1&&i.setAttribute("style",Object(u.collectStyles)(n,t));switch(n.tagName){case"SELECT":i.value=n.value;break;case"CANVAS":i.getContext("2d").drawImage(n,0,0)}return i}function o(n){return r(n)==="object"&&n&&(n instanceof HTMLElement||n.nodeType===1)}i.r(t);var u=i("./src/js/functions.js"),e=i("./src/js/print.js");t["default"]={print:function(n,t){var i=o(n.printable)?n.printable:document.getElementById(n.printable);if(!i){window.console.error("Invalid HTML element id: "+n.printable);return}n.printableElement=f(i,n);n.header&&Object(u.addHeader)(n.printableElement,n);e["default"].send(n,t)}}},"./src/js/image.js":function(n,t,i){"use strict";i.r(t);var r=i("./src/js/functions.js"),u=i("./src/js/print.js"),f=i("./src/js/browser.js");t["default"]={print:function(n,t){n.printable.constructor!==Array&&(n.printable=[n.printable]);n.printableElement=document.createElement("div");n.printable.forEach(function(t){var i=document.createElement("img"),u,r;i.setAttribute("style",n.imageStyle);i.src=t;f["default"].isFirefox()&&(u=i.src,i.src=u);r=document.createElement("div");r.appendChild(i);n.printableElement.appendChild(r)});n.header&&Object(r.addHeader)(n.printableElement,n);u["default"].send(n,t)}}},"./src/js/init.js":function(n,t,i){"use strict";function r(n){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r(n)}var e;i.r(t);var u=i("./src/js/browser.js"),f=i("./src/js/modal.js"),o=i("./src/js/pdf.js"),s=i("./src/js/html.js"),h=i("./src/js/raw-html.js"),c=i("./src/js/image.js"),l=i("./src/js/json.js");e=["pdf","html","image","json","raw-html"];t["default"]={init:function(){var n={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(n){throw n;},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},i=arguments[0],a,v,t,y;if(i===undefined)throw new Error("printJS expects at least 1 attribute.");switch(r(i)){case"string":n.printable=encodeURI(i);n.fallbackPrintable=n.printable;n.type=arguments[1]||n.type;break;case"object":n.printable=i.printable;n.fallbackPrintable=typeof i.fallbackPrintable!="undefined"?i.fallbackPrintable:n.printable;n.fallbackPrintable=n.base64?"data:application/pdf;base64,".concat(n.fallbackPrintable):n.fallbackPrintable;for(a in n)a!=="printable"&&a!=="fallbackPrintable"&&(n[a]=typeof i[a]!="undefined"?i[a]:n[a]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+r(i));}if(!n.printable)throw new Error("Missing printable information.");if(!n.type||typeof n.type!="string"||e.indexOf(n.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");n.showModal&&f["default"].show(n);n.onLoadingStart&&n.onLoadingStart();v=document.getElementById(n.frameId);v&&v.parentNode.removeChild(v);t=document.createElement("iframe");u["default"].isFirefox()?t.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):t.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0");t.setAttribute("id",n.frameId);n.type!=="pdf"&&(t.srcdoc="<html><head><title>"+n.documentTitle+"<\/title>",n.css&&(Array.isArray(n.css)||(n.css=[n.css]),n.css.forEach(function(n){t.srcdoc+='<link rel="stylesheet" href="'+n+'">'})),t.srcdoc+="<\/head><body><\/body><\/html>");switch(n.type){case"pdf":if(u["default"].isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");y=window.open(n.fallbackPrintable,"_blank");y.focus();n.onIncompatibleBrowser()}catch(p){n.onError(p)}finally{n.showModal&&f["default"].close();n.onLoadingEnd&&n.onLoadingEnd()}else o["default"].print(n,t);break;case"image":c["default"].print(n,t);break;case"html":s["default"].print(n,t);break;case"raw-html":h["default"].print(n,t);break;case"json":l["default"].print(n,t)}}}},"./src/js/json.js":function(n,t,i){"use strict";function r(n){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r(n)}function e(n){var c=n.printable,i=n.properties,t='<table style="border-collapse: collapse; width: 100%;">',e,o,r,f,s,h;for(n.repeatTableHeader&&(t+="<thead>"),t+="<tr>",e=0;e<i.length;e++)t+='<th style="width:'+i[e].columnSize+";"+n.gridHeaderStyle+'">'+Object(u.capitalizePrint)(i[e].displayName)+"<\/th>";for(t+="<\/tr>",n.repeatTableHeader&&(t+="<\/thead>"),t+="<tbody>",o=0;o<c.length;o++){for(t+="<tr>",r=0;r<i.length;r++){if(f=c[o],s=i[r].field.split("."),s.length>1)for(h=0;h<s.length;h++)f=f[s[h]];else f=f[i[r].field];t+='<td style="width:'+i[r].columnSize+n.gridStyle+'">'+f+"<\/td>"}t+="<\/tr>"}return t+"<\/tbody><\/table>"}i.r(t);var u=i("./src/js/functions.js"),f=i("./src/js/print.js");t["default"]={print:function(n,t){if(r(n.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof n.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!n.properties||!Array.isArray(n.properties))throw new Error("Invalid properties array for your JSON data.");n.properties=n.properties.map(function(t){return{field:r(t)==="object"?t.field:t,displayName:r(t)==="object"?t.displayName:t,columnSize:r(t)==="object"&&t.columnSize?t.columnSize+";":100/n.properties.length+"%;"}});n.printableElement=document.createElement("div");n.header&&Object(u.addHeader)(n.printableElement,n);n.printableElement.innerHTML+=e(n);f["default"].send(n,t)}}},"./src/js/modal.js":function(n,t,i){"use strict";i.r(t);var r={show:function(n){var i=document.createElement("div"),t,u,f,e;i.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;");i.setAttribute("id","printJS-Modal");t=document.createElement("div");t.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");u=document.createElement("div");u.setAttribute("class","printClose");u.setAttribute("id","printClose");t.appendChild(u);f=document.createElement("span");f.setAttribute("class","printSpinner");t.appendChild(f);e=document.createTextNode(n.modalMessage);t.appendChild(e);i.appendChild(t);document.getElementsByTagName("body")[0].appendChild(i);document.getElementById("printClose").addEventListener("click",function(){r.close()})},close:function(){var n=document.getElementById("printJS-Modal");n&&n.parentNode.removeChild(n)}};t["default"]=r},"./src/js/pdf.js":function(n,t,i){"use strict";function u(n,t,i){var r=new window.Blob([i],{type:"application/pdf"});r=window.URL.createObjectURL(r);t.setAttribute("src",r);f["default"].send(n,t)}i.r(t);var f=i("./src/js/print.js"),r=i("./src/js/functions.js");t["default"]={print:function(n,t){var f,i;if(n.base64){f=Uint8Array.from(atob(n.printable),function(n){return n.charCodeAt(0)});u(n,t,f);return}n.printable=/^(blob|http|\/\/)/i.test(n.printable)?n.printable:window.location.origin+(n.printable.charAt(0)!=="/"?"/"+n.printable:n.printable);i=new window.XMLHttpRequest;i.responseType="arraybuffer";i.addEventListener("error",function(){Object(r.cleanUp)(n);n.onError(i.statusText,i)});i.addEventListener("load",function(){if([200,201].indexOf(i.status)===-1){Object(r.cleanUp)(n);n.onError(i.statusText,i);return}u(n,t,i.response)});i.open("GET",n.printable,!0);i.send()}}},"./src/js/print.js":function(n,t,i){"use strict";function u(n,t){try{if(n.focus(),r["default"].isEdge()||r["default"].isIE())try{n.contentWindow.document.execCommand("print",!1,null)}catch(u){n.contentWindow.print()}else n.contentWindow.print()}catch(i){t.onError(i)}finally{r["default"].isFirefox()&&(n.style.visibility="hidden",n.style.left="-1px");Object(f.cleanUp)(t)}}function o(n){var t=n.map(function(n){if(n.src&&n.src!==window.location.href)return s(n)});return Promise.all(t)}function s(n){return new Promise(function(t){var i=function i(){!n||typeof n.naturalWidth=="undefined"||n.naturalWidth===0||!n.complete?setTimeout(i,500):t()};i()})}i.r(t);var r=i("./src/js/browser.js"),f=i("./src/js/functions.js"),e={send:function(n,t){document.getElementsByTagName("body")[0].appendChild(t);var i=document.getElementById(n.frameId);i.onload=function(){var t,f,e;if(n.type==="pdf"){r["default"].isFirefox()?setTimeout(function(){return u(i,n)},1e3):u(i,n);return}t=i.contentWindow||i.contentDocument;t.document&&(t=t.document);t.body.appendChild(n.printableElement);n.type!=="pdf"&&n.style&&(f=document.createElement("style"),f.innerHTML=n.style,t.head.appendChild(f));e=t.getElementsByTagName("img");e.length>0?o(Array.from(e)).then(function(){return u(i,n)}):u(i,n)}}};t["default"]=e},"./src/js/raw-html.js":function(n,t,i){"use strict";i.r(t);var r=i("./src/js/print.js");t["default"]={print:function(n,t){n.printableElement=document.createElement("div");n.printableElement.setAttribute("style","width:100%");n.printableElement.innerHTML=n.printable;r["default"].send(n,t)}}},"./src/sass/index.scss":function(){},0:function(n,t,i){n.exports=i("./src/index.js")}})["default"]});