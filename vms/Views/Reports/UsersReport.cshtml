@model vms.entity.viewModels.ReportsViewModel.VmUsersReport
@{
	ViewData["Title"] = "User Information";
	Layout = "_LayoutReport";
}

@section contentheader
	{
	<div class="p-3 page-header">
		@ViewData["Title"]
	</div>
}


<div class="row">
	<div class="col-md-6 offset-3">
		<form asp-action="UsersReport" class="form-horizontal" target="_blank">
			
			<div class="form-group mt-3">
				<label asp-for="UserStatus" ></label>
				<select asp-for="UserStatus" asp-items="Html.GetEnumSelectList<EnumUserStatus>()" >
					<option value="@null">Select</option>
				</select>
				<span asp-validation-for="UserStatus" class="invalid-feedback"></span>
			</div>

			<div class="form-group mt-3">
				<label  asp-for="ReportProcessOptionId"></label>
				<div>
					<select asp-for="ReportProcessOptionId" asp-items="Model.ReportOptionSelectListItems.CustomSelectListToSelectList()" >
						<option value="@null">Select Option</option>
					</select>
					<span asp-validation-for="ReportProcessOptionId" ></span>
				</div>
			</div>
			<div class="form-group mt-3 float-end">
				<button type="submit" class="btn btn-sm btn-primary"> <i class="bi bi-file-text"></i> Process Report</button>
			</div>
		</form>
	</div>
</div>


@*@section contentheader
{
	<div class="p-3 pb-2 page-header">

		@ViewData["Title"]
		<form method="post">
			<div class="row">

				<div class="col-3">
					<label asp-for="UserStatus" ></label>
					<select asp-for="UserStatus" asp-items="Html.GetEnumSelectList<EnumUserStatus>()" >
						<option value="@null">Select</option>
					</select>
					<span asp-validation-for="UserStatus" class="invalid-feedback"></span>
				</div>

				<div class="col-3">

					<button type="submit" class="btn btn-sm btn-success inline-sm-button"><i class="bi bi-file-text"></i> View</button>
					<button type="button" class="btn btn-sm btn-primary inline-sm-button" id="btnPrint"><i class="bi bi-printer"></i> Print</button>
					<button type="submit" asp-action="UsersReportExcel" class="btn btn-sm btn-warning inline-sm-button"><i class="bi bi-file-excel-fill"></i> Excel</button>

				</div>

			</div>
		</form>

	</div>

}

<div class="gray-slim-scroll-container">
	<div class="long-table-scroll-container">
		<div id="printableArea">
			<div class="report-margin">
				<div class="report-header">
					<div class="company-name">@Model.OrganizationName</div>
					<div class="company-other-info">@Model.OrganizationAddress</div>
					<div class="report-name">@Model.HeaderOtherString</div>
				</div>

				<table class="table table-bordered">
					<thead>
					<tr>
						<th>
							SL
						</th>
						<th>
							Name
						</th>
						<th>
							Username
						</th>
						<th>
							Role
						</th>
						<th>
							Email Address
						</th>
						<th>
							Mobile
						</th>
						<th>
							NID
						</th>
						<th>
							TIN
						</th>
						<th>
							Address
						</th>
						<th>
							Last Login Time
						</th>
						<th>
							Status
						</th>
					</tr>
					</thead>

					@if (Model.Users.Any())
					{
						var slNo = 1;
						<tbody>
						@foreach (var item in Model.Users)
						{
							<tr>
								<td class="text-right">
									@slNo
								</td>
								<td>
									@item.FullName
								</td>
								<td>
									@item.UserName
								</td>
								<td>
									@item.Role.RoleName
								</td>

								<td>
									@item.EmailAddress
								</td>
								<td class="text-center">
									@item.Mobile
								</td>
								<td class="text-center">
									@item.NidNo
								</td>
								<td class="text-center">
									@item.TinNo
								</td>
								<td>
									@item.Address
								</td>
								<td class="text-center">
									@StringGenerator.DateTimeToString(item.LastLoginTime)
								</td>
								<td class="text-center">
									@item.Status
								</td>
							</tr>
							slNo++;
						}
						</tbody>
					}

					else
					{
						<tr>
							<td colspan="13">
								<p style="text-align: center">No Records Found</p>
							</td>
						</tr>
					}
				</table>
			</div>
		</div>
	</div>
</div>


@section scripts{
	<script>

		$(document).ready(function() {
			$("#btnPrint").click(function() {
				window.vmsPrint.printA4Landscape('printableArea');
			});
		});
	</script>
}*@